<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Richard Yang, Java Developer, Senior software engineer" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Transaction provides data integrity in highly concurrent environments. It’s also called Unit of Work.

For database systems, transaction is a must-have feature. But also some exceptions, like MySQL My">
<meta property="og:type" content="article">
<meta property="og:title" content="ACID and transaction">
<meta property="og:url" content="https://richyang.me/2015/04/13/acid-and-transaction/index.html">
<meta property="og:site_name" content="Richard Yang">
<meta property="og:description" content="Transaction provides data integrity in highly concurrent environments. It’s also called Unit of Work.

For database systems, transaction is a must-have feature. But also some exceptions, like MySQL My">
<meta property="og:image" content="https://richyang.me/media/acid-dirty-read.gif">
<meta property="og:image" content="https://richyang.me/media/acid-non-repeatable-read.gif">
<meta property="og:image" content="https://richyang.me/media/acid-phantom-read.gif">
<meta property="og:image" content="https://richyang.me/media/lost-update.png">
<meta property="og:image" content="https://richyang.me/media/offline-lost-update.png">
<meta property="og:updated_time" content="2015-12-05T04:46:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ACID and transaction">
<meta name="twitter:description" content="Transaction provides data integrity in highly concurrent environments. It’s also called Unit of Work.

For database systems, transaction is a must-have feature. But also some exceptions, like MySQL My">
<meta name="twitter:image" content="https://richyang.me/media/acid-dirty-read.gif">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    },
    algolia: {
      applicationID: 'X0H1P7HDKY',
      apiKey: 'ddc0af00a6e07c9b1be9f4da4cf5b9d9',
      indexName: 'richyang.me',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>




  <title> ACID and transaction | Richard Yang </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <!--span class="logo-line-before"><i></i></span-->
      <span class="site-title">Richard Yang</span>
      <!--span class="logo-line-after"><i></i></span-->
    </a>
  </div>
  <p class="site-subtitle">Full-stack software engineer mainly focusing on Java-based technologies and web front-end</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
        
      
        
        
        <li class="menu-item menu-item-books">
          <a href="https://www.gitbook.com/@richdyang" rel="section">
            
            Books
          </a>
        </li>
        
      
        
        
        <li class="menu-item menu-item-showcase">
          <a href="/showcase" rel="section">
            
            Showcase
          </a>
        </li>
        
      
        
        
        <li class="menu-item menu-item-resume">
          <a href="http://linkedin.com/in/richdyang" rel="section">
            
            Résumé
          </a>
        </li>
        
      
        
        
      
        
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            About
          </a>
        </li>
        
      
        
        
      
        
        
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
            <i class="menu-item-icon fa fa-search fa-lg"></i>Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>

<div class="social-links" style="float: right; padding-left: 50px; margin-right: 10px">
      
        
          <span class="links-of-author-item">
            <a href="http://linkedin.com/in/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-linkedin"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://github.com/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-github-alt"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://bitbucket.org/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-bitbucket"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://stackoverflow.com/users/4344443/richard" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-stack-overflow"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://twitter.com/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-twitter"></i>
                </span>
                 
              
            </a>
          </span>
        
      
  </div>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                ACID and transaction
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-04-13T18:49:27+12:00" content="2015-04-13">
              2015-04-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Databases/" itemprop="url" rel="index">
                    <span itemprop="name">Databases</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/04/13/acid-and-transaction/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/04/13/acid-and-transaction/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Transaction provides data integrity in highly concurrent environments. It’s also called Unit of Work.</p>
<ul>
<li>For database systems, transaction is a must-have feature. But also some exceptions, like MySQL MyISAM engine.</li>
<li>For messaging systems like <a href="http://en.wikipedia.org/wiki/Java_Message_Service" target="_blank" rel="external">JMS</a>, transactions are not mandatory which has  non-transacted <a href="http://docs.oracle.com/javaee/6/api/javax/jms/Session.html" target="_blank" rel="external">acknowledgement modes</a>.</li>
<li>File system operations are usually non-managed, but if your business requirements demand transaction file operations, you might make use a tool such as <a href="https://xadisk.java.net/" target="_blank" rel="external">XADisk</a>.</li>
</ul>
<h3 id="ACID"><a href="#ACID" class="headerlink" title="ACID"></a>ACID</h3><p>Inherently a transaction is characterized by four properties (commonly referred as ACID) :</p>
<ol>
<li>Atomicity  <em>- process</em></li>
<li>Consistency <em>- data state</em></li>
<li>Isolation <em>- across transactions</em></li>
<li>Durability <em>- storage</em><blockquote>
<p>Atomicity takes individual operations and turns them into an all-or-nothing unit of work, succeeding if and only if all contained operations succeed.</p>
<p>Consistency is about the state change. A transaction must always leave the system in a consistent state.</p>
<p>Isolation brings us the benefit of hiding uncommitted state changes from the outside world (other transactions), as failing transactions shouldn’t ever corrupt the state of the system.Isolation is achieved through <a href="http://en.wikipedia.org/wiki/Concurrency_control" target="_blank" rel="external">concurrency control</a> using pessimistic or optimistic locking mechanisms.</p>
<p>Durability ensure permanently change the state of a system after successful committed transaction, or logging the state changes before commit.<br>Of the four properties, the atomicity is a fixed property, but everything else may be traded-off for performance/scalability reasons.</p>
</blockquote>
</li>
</ol>
<h3 id="three-phenomena-and-isolation"><a href="#three-phenomena-and-isolation" class="headerlink" title="three phenomena and isolation"></a>three phenomena and isolation</h3><p>The SQL standard defines four Isolation levels:</p>
<ul>
<li>READ_UNCOMMITTED</li>
<li>READ_COMMITTED</li>
<li>REPEATABLE_READ</li>
<li>SERIALIZABLE<br><table style="height: 152px;" border="1" width="604"><br><tbody><br><tr><br><th>Isolation Level</th><br><th>Dirty read</th><br><th>Non-repeatable read</th><br><th>Phantom read</th><br></tr><br><tr><br><td>READ_UNCOMMITTED</td><br><td>allowed</td><br><td>allowed</td><br><td>allowed</td><br></tr><br><tr><br><td>READ_COMMITTED</td><br><td>prevented</td><br><td>allowed</td><br><td>allowed</td><br></tr><br><tr><br><td>REPEATABLE_READ</td><br><td>prevented</td><br><td>prevented</td><br><td>allowed</td><br></tr><br><tr><br><td>SERIALIZABLE</td><br><td>prevented</td><br><td>prevented</td><br><td>prevented</td><br></tr><br></tbody><br></table><br>Every isolation level resolves one or multiple phenomena.</li>
</ul>
<h4 id="Dirty-read"><a href="#Dirty-read" class="headerlink" title="Dirty read"></a>Dirty read</h4><p><img src="/media/acid-dirty-read.gif" alt="acid-dirty-read"></p>
<p>Transaction 2 reads the uncommitted(temporary or dirty) data of transaction 1. It’s called dirty because the change may be discarded if rollback.</p>
<h4 id="Non-repeatable-read"><a href="#Non-repeatable-read" class="headerlink" title="Non-repeatable read"></a>Non-repeatable read</h4><p><img src="/media/acid-non-repeatable-read.gif" alt="acid-non-repeatable-read"></p>
<p>Transaction 2 commits after transaction 1, so the queried record in memory differs in <span style="text-decoration: underline;"><em>state</em> </span>(changed) from that in database when commit.</p>
<h4 id="Phantom-read"><a href="#Phantom-read" class="headerlink" title="Phantom read"></a>Phantom read</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="/media/acid-phantom-read.gif" alt="acid-phantom-read"></h4><p>Transaction 2 commits after transaction 1, so the queried records in memory differ in <span style="text-decoration: underline;"><em>range </em></span>(more or less) from that in database when commit.</p>
<p>You can regard phantom read is an extensive version of unrepeatable read.</p>
<p>&nbsp;</p>
<p>Even if the SQL standard mandates the use of the SERIALIZABLE isolation level, most database management system use a different default level.</p>
<p><table border="1"></table></p>
<p><tbody></tbody></p>
<p><tr></tr></p>
<p><th>Database</th></p>
<p><th>Default isolation Level</th><br></p>
<p><tr></tr></p>
<p><td>Oracle</td></p>
<p><td>READ_COMMITTED</td><br></p>
<p><tr></tr></p>
<p><td>MySQL</td></p>
<p><td>REPEATABLE_READ</td><br></p>
<p><tr></tr></p>
<p><td>Microsoft SQL Server</td></p>
<p><td>READ_COMMITTED</td><br></p>
<p><tr></tr></p>
<p><td>PostgreSQL</td></p>
<p><td>READ_COMMITTED</td><br></p>
<p><tr></tr></p>
<p><td>DB2</td></p>
<p><td>CURSOR STABILITY (a.k.a READ_COMMITTED)</td><br><br><br><br>Usually, READ_COMMITED is the right choice, since even SERIALIZABLE cannot protect you from a “lost update” where the read/write happen in different transactions (and web requests).</p>
<h3 id="a-classic-database-problem-lost-update"><a href="#a-classic-database-problem-lost-update" class="headerlink" title="a classic database problem - lost update"></a>a classic database problem - lost update</h3><h4 id="transactional-scenario"><a href="#transactional-scenario" class="headerlink" title="transactional scenario"></a>transactional scenario</h4><p><img src="/media/lost-update.png" alt="lost-update"></p>
<h4 id="offline-concurrency-scenario"><a href="#offline-concurrency-scenario" class="headerlink" title="offline concurrency scenario"></a>offline concurrency scenario</h4><p><img src="/media/offline-lost-update.png" alt="offline-lost-update"></p>
<p>In this case, we should differentiate the <em><strong>system transaction boundary</strong></em> and <em><strong>business transaction boundary</strong></em>. All the above discussed is about system transaction.</p>
<h3 id="locking-and-MVCC"><a href="#locking-and-MVCC" class="headerlink" title="locking and MVCC"></a>locking and MVCC</h3><p>Two ways for concurrency control:</p>
<ul>
<li>MVCC</li>
<li>locking<br>But as we all know, locking increases the serializable portion of the executed code, affecting <a href="http://en.wikipedia.org/wiki/Amdahl%27s_law#Parallelization" target="_blank" rel="external">parallelization</a>.</li>
</ul>
<p>In low level, how the database uses locks or MVCC to control concurrency is very complicated and different from one to another. The explanation is worth explaining in a big book.</p>
<p>Here we consider locking and MVCC in a high level.</p>
<p>(We consider implicit locking is database-specific and ubiquitous when interacting with database using SQL, like read lock, write lock, share lock, mutually exclusive lock, table lock, row lock, range lock, lock escalation etc….the list goes, so many buzzwords!)</p>
<p>Basically, we mention locking just in pessimistic locking context, where locking is explicitly requested. This is from the SQL:</p>
<blockquote>
<p>select …. for update/insert/delete<br>And we refer to MVCC mainly for <span style="text-decoration: underline;"><em>application-level</em></span> optimistic locking implementation – version column. Other optimistic locking implementations include:</p>
</blockquote>
<ul>
<li><strong><em>old/new value comparison in committing time</em></strong></li>
<li><em><strong>checksum or hash computation</strong></em> on original data</li>
</ul>
<h4 id="pessimistic-locking"><a href="#pessimistic-locking" class="headerlink" title="pessimistic locking"></a>pessimistic locking</h4><h4 id="optimistic-locking"><a href="#optimistic-locking" class="headerlink" title="optimistic locking"></a>optimistic locking</h4><p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/04/09/jpa-advanced-topics/" rel="next" title="JPA - advanced topics">
                <i class="fa fa-chevron-left"></i> JPA - advanced topics
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/04/16/find-job-full-time-job-e7-be-8a-e7-94-9f-e7-85-8e-e4-b9-8b-e7-be-8a-e6-9d-91-e6-b1-82-e8-81-8c-e6-94-bb-e7-95-a5ict-e5-90-91/" rel="prev" title="To find a job is a full time job 羊生煎之羊村求职攻略(ICT向)">
                To find a job is a full time job 羊生煎之羊村求职攻略(ICT向) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://qph.is.quoracdn.net/main-thumb-27403014-200-azcnfpakpayhgojvmueqcfjeyufbjpcx.jpeg"
               alt="Richard Yang" />
          <p class="site-author-name" itemprop="name">Richard Yang</p>
          <p class="site-description motion-element" itemprop="description">Nothing seek, nothing find</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">133</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">48</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://linkedin.com/in/richdyang" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://github.com/richdyang" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-github-alt"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://bitbucket.org/richdyang" target="_blank" title="Bitbucket">
                  
                    <i class="fa fa-fw fa-bitbucket"></i>
                  
                  Bitbucket
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://stackoverflow.com/users/4344443/richard" target="_blank" title="Stackoverflow">
                  
                    <i class="fa fa-fw fa-stack-overflow"></i>
                  
                  Stackoverflow
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/richdyang" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#ACID"><span class="nav-number">1.</span> <span class="nav-text">ACID</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#three-phenomena-and-isolation"><span class="nav-number">2.</span> <span class="nav-text">three phenomena and isolation</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Dirty-read"><span class="nav-number">2.1.</span> <span class="nav-text">Dirty read</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Non-repeatable-read"><span class="nav-number">2.2.</span> <span class="nav-text">Non-repeatable read</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Phantom-read"><span class="nav-number">2.3.</span> <span class="nav-text">Phantom read</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">2.4.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#a-classic-database-problem-lost-update"><span class="nav-number">3.</span> <span class="nav-text">a classic database problem - lost update</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#transactional-scenario"><span class="nav-number">3.1.</span> <span class="nav-text">transactional scenario</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#offline-concurrency-scenario"><span class="nav-number">3.2.</span> <span class="nav-text">offline concurrency scenario</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#locking-and-MVCC"><span class="nav-number">4.</span> <span class="nav-text">locking and MVCC</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#pessimistic-locking"><span class="nav-number">4.1.</span> <span class="nav-text">pessimistic locking</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#optimistic-locking"><span class="nav-number">4.2.</span> <span class="nav-text">optimistic locking</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Richard Yang</span>
</div>

<!--div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div-->

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'richyang';
      var disqus_identifier = '2015/04/13/acid-and-transaction/';
      var disqus_title = 'ACID and transaction';

      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      
        run_disqus_script('embed.js');
      

    </script>
  




  
  

  

  

  
  

  
  
  
  <link rel="stylesheet" href="/vendors/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/vendors/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.0"></script>



</body>
</html>
