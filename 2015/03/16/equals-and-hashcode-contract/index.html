<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Richard Yang, Java Developer, Senior software engineer" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Although Java encourage and support to maintain contract by interface, but there are some implicit contracts that should be noticed when you are implementing some special functions.
What is equals and">
<meta property="og:type" content="article">
<meta property="og:title" content="equals() / hashCode() contract, Comparable contract">
<meta property="og:url" content="https://richyang.me/2015/03/16/equals-and-hashcode-contract/index.html">
<meta property="og:site_name" content="Richard Yang">
<meta property="og:description" content="Although Java encourage and support to maintain contract by interface, but there are some implicit contracts that should be noticed when you are implementing some special functions.
What is equals and">
<meta property="og:image" content="https://richyang.me/media/java-hashcode-650x3691.jpeg">
<meta property="og:updated_time" content="2015-12-05T04:46:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="equals() / hashCode() contract, Comparable contract">
<meta name="twitter:description" content="Although Java encourage and support to maintain contract by interface, but there are some implicit contracts that should be noticed when you are implementing some special functions.
What is equals and">
<meta name="twitter:image" content="https://richyang.me/media/java-hashcode-650x3691.jpeg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    },
    algolia: {
      applicationID: 'X0H1P7HDKY',
      apiKey: 'ddc0af00a6e07c9b1be9f4da4cf5b9d9',
      indexName: 'richyang.me',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>




  <title> equals() / hashCode() contract, Comparable contract | Richard Yang </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <!--span class="logo-line-before"><i></i></span-->
      <span class="site-title">Richard Yang</span>
      <!--span class="logo-line-after"><i></i></span-->
    </a>
  </div>
  <p class="site-subtitle">Full-stack software engineer mainly focusing on Java-based technologies and web front-end</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
        
      
        
        
        <li class="menu-item menu-item-books">
          <a href="https://www.gitbook.com/@richdyang" rel="section">
            
            Books
          </a>
        </li>
        
      
        
        
        <li class="menu-item menu-item-showcase">
          <a href="/showcase" rel="section">
            
            Showcase
          </a>
        </li>
        
      
        
        
        <li class="menu-item menu-item-resume">
          <a href="http://linkedin.com/in/richdyang" rel="section">
            
            Résumé
          </a>
        </li>
        
      
        
        
      
        
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            About
          </a>
        </li>
        
      
        
        
      
        
        
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
            <i class="menu-item-icon fa fa-search fa-lg"></i>Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>

<div class="social-links" style="float: right; padding-left: 50px; margin-right: 10px">
      
        
          <span class="links-of-author-item">
            <a href="http://linkedin.com/in/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-linkedin"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://github.com/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-github-alt"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://bitbucket.org/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-bitbucket"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://stackoverflow.com/users/4344443/richard" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-stack-overflow"></i>
                </span>
                 
              
            </a>
          </span>
        
          <span class="links-of-author-item">
            <a href="http://twitter.com/richdyang" target="_blank" style="border-bottom: none">
              
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-stack-1x fa-inverse fa-twitter"></i>
                </span>
                 
              
            </a>
          </span>
        
      
  </div>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                equals() / hashCode() contract, Comparable contract
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-03-16T19:13:32+08:00" content="2015-03-16">
              2015-03-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Basics/" itemprop="url" rel="index">
                    <span itemprop="name">Basics</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/03/16/equals-and-hashcode-contract/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/03/16/equals-and-hashcode-contract/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Although Java encourage and support to maintain contract by interface, but there are some implicit contracts that should be noticed when you are implementing some special functions.</p>
<h3 id="What-is-equals-and-hashCode-contract"><a href="#What-is-equals-and-hashCode-contract" class="headerlink" title="What is equals and hashCode contract?"></a>What is equals and hashCode contract?</h3><blockquote>
<p><strong>The interface contract for <code>Object</code> requires that if two objects are equal according to <code>equals()</code>, then they must have the same <code>hashCode()</code>value.</strong></p>
<p>1. If two objects are equal, then they must have the same hash code.</p>
<p>2. If two objects have the same hashcode, they may or may not be equal.</p>
</blockquote>
<h4 id="Why-override-equals-and-hashCode"><a href="#Why-override-equals-and-hashCode" class="headerlink" title="Why override equals() and hashCode()?"></a>Why override equals() and hashCode()?</h4><p>The <code>hashCode()</code> method exists purely for efficiency. The Java platform architects anticipated the importance of hash-based collection classes – such as <code>Hashtable</code>, <code>HashMap</code>, and <code>HashSet</code> – in typical Java applications, and comparing against many objects with <code>equals()</code> can be computationally expensive. Having every Java object support <code>hashCode()</code> allows for efficient storage and retrieval using hash-based collections.</p>
<hr>
<p>For the class as <strong>key</strong> of HashMap or HashSet(which is inner implemented by HashMap and the entry with a dummy value), it must rewrite the hashCode() and equals() methods.</p>
<p><img src="/media/java-hashcode-650x3691.jpeg" alt="java-hashcode-650x369"></p>
<p>Some developers rewrite the equals() methods but don’t rewrite the hashCode() method, it will be error prone. The following is <strong>a common mistake</strong>.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BrokenEqualsHashCode</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Test</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testEuals</span><span class="params">()</span> </span>&#123;</div><div class="line">        SomeObject a = <span class="keyword">new</span> SomeObject(<span class="number">1</span>,&amp;quot;<span class="number">1</span>&amp;quot;);</div><div class="line">        SomeObject b = <span class="keyword">new</span> SomeObject(<span class="number">2</span>, &amp;quot;<span class="number">1</span>&amp;quot;);</div><div class="line"></div><div class="line">        System.out.println(a.hashCode());</div><div class="line">        System.out.println(b.hashCode());</div><div class="line"></div><div class="line">        System.out.println(b.equals(a));</div><div class="line"></div><div class="line">        Map&amp;lt;SomeObject, String&amp;gt; map = <span class="keyword">new</span> HashMap&amp;lt;SomeObject, String&amp;gt;(<span class="number">10</span>);</div><div class="line">        map.put(a, &amp;quot;<span class="number">1</span>&amp;quot;);</div><div class="line">        map.put(b, &amp;quot;<span class="number">2</span>&amp;quot;);</div><div class="line"></div><div class="line">		System.out.println(map.get(<span class="keyword">new</span> SomeObject(<span class="number">1</span>, &amp;quot;<span class="number">1</span>&amp;quot;)));</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeObject</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> a;</div><div class="line">    String b;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SomeObject</span><span class="params">(<span class="keyword">int</span> a, String b)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.a = a;</div><div class="line">        <span class="keyword">this</span>.b = b;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line"></div><div class="line">        SomeObject that = (SomeObject) o;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (!b.equals(that.b)) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3790865<br>26759037<br>true<br>null</p>
<p>You can see, although the two objects as key are equal, but it cannot get the expected effect.</p>
<p>Actually, the two entries are stored in the hash map, but it cannot be retrieved by the equal object.</p>
<h4 id="How-to-design-a-good-key-for-HashMap"><a href="#How-to-design-a-good-key-for-HashMap" class="headerlink" title="How to design a good key for HashMap"></a>How to design a good key for HashMap</h4><p>The very basic need for designing a good key is that “<em><strong>we should be able to retrieve the value object back from the map without failure</strong></em>“, otherwise no matter how fancy data structure you build, it will be of no use.</p>
<p>For this basic reasoning, key objects are suggested to be IMMUTABLE. IMMUTABILITY allows you to get same hash code every time, for a key object.</p>
<p>But remember that <strong>immutability is recommended and not mandatory</strong>.</p>
<p>An example is always better for demonstration, right? Then lets have one.</p>
<p>In this example, I have created an account class with only two fields for simplicity. I have overridden the hash code and equals method such that it uses only account number to verify the uniqueness of Account object. All other possible attributes of Account class can be changed on runtime.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> accountNumber;</div><div class="line">    <span class="keyword">private</span> String holderName;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">(<span class="keyword">int</span> accountNumber)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.accountNumber = accountNumber;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getHolderName</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> holderName;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHolderName</span><span class="params">(String holderName)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.holderName = holderName;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAccountNumber</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> accountNumber;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//Depends only on account number</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">final</span> <span class="keyword">int</span> prime = <span class="number">31</span>;</div><div class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</div><div class="line">        result = prime * result + accountNumber;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//Compare only account numbers</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == obj)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">if</span> (obj == <span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">if</span> (getClass() != obj.getClass())</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        Account other = (Account) obj;</div><div class="line">        <span class="keyword">if</span> (accountNumber != other.accountNumber)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Output:</p>
<p>A_ONE<br>A_TWO<br>A_ONE</p>
<h3 id="What-is-Comparable-contract"><a href="#What-is-Comparable-contract" class="headerlink" title="What is Comparable contract?"></a>What is Comparable contract?</h3><p>Basically, Comparable contract is related to sorting or ordering.</p>
<p>So to do the following things, you must implement Comparable:</p>
<ul>
<li>calling <tt><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html" target="_blank" rel="external">Collections</a>.sort</tt> and <tt>Collections.binarySearch</tt></li>
<li>calling <tt><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html" target="_blank" rel="external">Arrays</a>.sort</tt> and <tt>Arrays.binarySearch</tt></li>
<li>using objects as keys in a <tt><a href="http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html" target="_blank" rel="external">TreeMap</a></tt></li>
<li>using objects as elements in a <tt><a href="http://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html" target="_blank" rel="external">TreeSet</a></tt><br>It’s not hard to notice that these are all related to ordering.</li>
</ul>
<p>Compare the various types of fields as follows:</p>
<ul>
<li>numeric primitive : use <tt>&lt;</tt> and <tt>&gt;</tt>. There is an exception to this rule: <tt>float</tt> and <tt>double</tt> primitives should be compared using Float.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#compare(float,%20float" target="_blank" rel="external">compare(float, float)</a>) and Double.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#compare(double,%20double" target="_blank" rel="external">compare(double, double)</a>). This avoids problems associated with special border values.</li>
<li><tt>boolean</tt> primitive :  use tests of the form <tt>(x &amp;&amp; !y)</tt></li>
<li>All primitive wrapper classes implement <tt>Comparable</tt></li>
<li><tt>Object</tt> : use <tt>compareTo</tt>. (Note that possibly-null fields present a problem : while <tt>x.equals(null)</tt> returns <tt>false</tt>, <tt>x.compareTo(null)</tt> will always throw a <tt>NullPointerException</tt>)</li>
<li>type-safe enumeration : use <tt>compareTo</tt>, like any <tt>Object</tt></li>
<li>collection or array : <tt>Comparable</tt> does not seem to be intended for these kinds of fields. For example, <tt>List</tt>, <tt>Map</tt> and <tt>Set</tt> do not implement <tt>Comparable</tt>. As well, some collections have no definite order of iteration, so doing an element-by-element comparison cannot be meaningful in those cases.<br>If the task is to perform a sort of items which are stored in a relational database, then it is usually much preferred to let the database perform the sort using the ORDER BY clause, rather than in code.</li>
</ul>
<p>An alternative to implementing <tt>Comparable</tt> is passing <strong><tt><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html" target="_blank" rel="external">Comparator</a></tt></strong> objects as parameters. Be aware that if a <tt>Comparator</tt> compares only one of several significant fields, then the <tt>Comparator</tt> is very likely not consistent with <tt>equals</tt>.</p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/03/16/character-encoding-and-charset-in-java/" rel="next" title="Character encoding and charset in Java">
                <i class="fa fa-chevron-left"></i> Character encoding and charset in Java
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/03/17/float-numbers/" rel="prev" title="Float numbers">
                Float numbers <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://qph.is.quoracdn.net/main-thumb-27403014-200-azcnfpakpayhgojvmueqcfjeyufbjpcx.jpeg"
               alt="Richard Yang" />
          <p class="site-author-name" itemprop="name">Richard Yang</p>
          <p class="site-description motion-element" itemprop="description">Nothing seek, nothing find</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">131</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">48</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://linkedin.com/in/richdyang" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://github.com/richdyang" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-github-alt"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://bitbucket.org/richdyang" target="_blank" title="Bitbucket">
                  
                    <i class="fa fa-fw fa-bitbucket"></i>
                  
                  Bitbucket
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://stackoverflow.com/users/4344443/richard" target="_blank" title="Stackoverflow">
                  
                    <i class="fa fa-fw fa-stack-overflow"></i>
                  
                  Stackoverflow
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://twitter.com/richdyang" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-equals-and-hashCode-contract"><span class="nav-number">1.</span> <span class="nav-text">What is equals and hashCode contract?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Why-override-equals-and-hashCode"><span class="nav-number">1.1.</span> <span class="nav-text">Why override equals() and hashCode()?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#How-to-design-a-good-key-for-HashMap"><span class="nav-number">1.2.</span> <span class="nav-text">How to design a good key for HashMap</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-Comparable-contract"><span class="nav-number">2.</span> <span class="nav-text">What is Comparable contract?</span></a></li></ol></div>
            

          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Richard Yang</span>
</div>

<!--div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div-->

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'richyang';
      var disqus_identifier = '2015/03/16/equals-and-hashcode-contract/';
      var disqus_title = 'equals() / hashCode() contract, Comparable contract';

      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      
        run_disqus_script('embed.js');
      

    </script>
  




  
  

  

  

  
  

  
  
  
  <link rel="stylesheet" href="/vendors/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/vendors/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.0"></script>



</body>
</html>
