<!DOCTYPE HTML>
<html lang="en-us">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title>servlet basics - Chao Yang</title>
    <meta name="keywords" content="Java, Programming, Android, JavaScript, Angular, Kotlin, Swift, iOS, Machine Learning, Big Data">
    
    <meta property="og:title" content="servlet basics">
    <meta property="og:site_name" content="Chao Yang">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content="servlet basics - Chao Yang" />
    <meta name="description" content="A Developer in New Zealand"> 
    
    <link rel="shortcut icon" href="http://yangchao.me/img/favicon.ico" />
    <link rel="apple-touch-icon" href="http://yangchao.me/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="http://yangchao.me/img/apple-touch-icon.png" />
    <link href="http://yangchao.me/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="http://yangchao.me/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="http://yangchao.me/css/main.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/kotlin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/typescript.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="http://yangchao.me/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Chao Yang</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Nothing seek, nothing find</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="http://yangchao.me/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/books" rel="section">
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />Minibooks
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://github.com/richdyang" rel="section">
              <i class="menu-item-icon fa fa-fw fa-code"></i> <br />Projects
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/resume/cv.pdf" rel="section">
              <i class="menu-item-icon fa fa-fw fa-linkedin"></i> <br />Résumé
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archive
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About
          </a>
        </li>
      
    </ul>
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="http://yangchao.me/post/servlet-basics/" itemprop="url">
        servlet basics
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">Published at:</span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="2015-03-30">
    2015-03-30
</time>
</span> 
      

  <span class="post-category" >
  &nbsp; | &nbsp;
  <span class="post-meta-item-icon">
    <i class="fa fa-folder-o"></i>
  </span>
  <span class="post-meta-item-text">Categories:</span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="http://yangchao.me/categories/servlet-/-jsp" itemprop="url" rel="index">
        <span itemprop="name">Servlet / JSP</span>
      </a>
      &nbsp; 
    </span>
  
</span>


       <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-eye"></i>
</span>
<span class="post-meta-item-text">Reading:</span>
<span class="leancloud-visitors-count">1561 words ~8min</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    

<h3 id="deployment-descriptor-web-xml">Deployment Descriptor: web.xml</h3>

<p>The following is a complete Deployment Descriptor.</p>

<pre><code class="language-java">&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&amp;gt;
&amp;lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;
         version=&quot;2.5&quot;&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- General --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Name the application --&amp;gt;
    &amp;lt;display-name&amp;gt;Example App&amp;lt;/display-name&amp;gt;
    &amp;lt;description&amp;gt;An example application which is used to play with some of the features of Tomcat&amp;lt;/description&amp;gt;

    &amp;lt;!-- This app is cluster-ready --&amp;gt;
    &amp;lt;distributable /&amp;gt;

    &amp;lt;!-- Set timeout to 120 minutes --&amp;gt;
    &amp;lt;session-config&amp;gt;
        &amp;lt;session-timeout&amp;gt;120&amp;lt;/session-timeout&amp;gt;
    &amp;lt;/session-config&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- JSP Configuration --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Note that you can only have one &amp;lt;jsp-config&amp;gt; element per web.xml --&amp;gt;
    &amp;lt;jsp-config&amp;gt;
        &amp;lt;!-- Taglib declarations are no longer required since JSP 2.0, see Removing taglib from web.xml --&amp;gt;
        &amp;lt;!-- The &amp;lt;taglib&amp;gt; did not need to be a child of &amp;lt;jsp-config&amp;gt; in earlier versions but is required as of Tomcat 7 --&amp;gt;
        &amp;lt;taglib&amp;gt;
            &amp;lt;taglib-uri&amp;gt;mytags&amp;lt;/taglib-uri&amp;gt;
            &amp;lt;taglib-location&amp;gt;/WEB-INF/jsp/mytaglib.tld&amp;lt;/taglib-location&amp;gt;
        &amp;lt;/taglib&amp;gt;
        &amp;lt;jsp-property-group&amp;gt;
            &amp;lt;url-pattern&amp;gt;*.jsp&amp;lt;/url-pattern&amp;gt;
            &amp;lt;include-prelude&amp;gt;/WEB-INF/jspf/prelude1.jspf&amp;lt;/include-prelude&amp;gt;
            &amp;lt;include-coda&amp;gt;/WEB-INF/jspf/coda1.jspf&amp;lt;/include-coda&amp;gt;
        &amp;lt;/jsp-property-group&amp;gt;
    &amp;lt;/jsp-config&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Context Parameters --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;context-param&amp;gt;
        &amp;lt;description&amp;gt;Enable debugging for the application&amp;lt;/description&amp;gt;
        &amp;lt;param-name&amp;gt;debug&amp;lt;/param-name&amp;gt;
        &amp;lt;param-value&amp;gt;true&amp;lt;/param-value&amp;gt;
    &amp;lt;/context-param&amp;gt;
    &amp;lt;context-param&amp;gt;
        &amp;lt;description&amp;gt;The email address of the administrator, used to send error reports.&amp;lt;/description&amp;gt;
        &amp;lt;param-name&amp;gt;webmaster&amp;lt;/param-name&amp;gt;
        &amp;lt;param-value&amp;gt;address@somedomain.com&amp;lt;/param-value&amp;gt;
    &amp;lt;/context-param&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Servlets --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Simple Servlet, provide a name, class, description and map to URL /servlet/SimpleServlet --&amp;gt;
    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;Simple&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-class&amp;gt;SimpleServlet&amp;lt;/servlet-class&amp;gt;
        &amp;lt;description&amp;gt;This is a simple Hello World servlet&amp;lt;/description&amp;gt;
    &amp;lt;/servlet&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;servlet-name&amp;gt;Simple&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/servlet/SimpleServlet&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;

    &amp;lt;!-- CMS Servlet, responds to *.cms URL's --&amp;gt;
    &amp;lt;servlet&amp;gt;
        &amp;lt;!-- Identification --&amp;gt;
        &amp;lt;servlet-name&amp;gt;cms&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-class&amp;gt;com.metawerx.servlets.ContentManagementSystem&amp;lt;/servlet-class&amp;gt;
        &amp;lt;description&amp;gt;This servlet handles requests for the CMS (it is a controller in an MVC architecture)&amp;lt;/description&amp;gt;

        &amp;lt;!-- This servlet has two parameters --&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;debug&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;true&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;detail&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;2&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;

        &amp;lt;!-- Load this servlet when the application starts (call the init() method of the servlet) --&amp;gt;
        &amp;lt;load-on-startup&amp;gt;5&amp;lt;/load-on-startup&amp;gt;
        &amp;lt;!-- &amp;lt;run-at&amp;gt;0:00, 6:00, 12:00, 18:00&amp;lt;/run-at&amp;gt; This tag is only valid for Resin --&amp;gt;
    &amp;lt;/servlet&amp;gt;

    &amp;lt;!-- Map some URLs to the cms servlet (demonstrates *.extension mapping) --&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;!-- For any URL ending in .cms, the cms servlet will be called --&amp;gt;
        &amp;lt;servlet-name&amp;gt;cms&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;*.cms&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;

    &amp;lt;!-- Rewriter Servlet, responds to /content/* and /admin/RewriterStatistics URL's --&amp;gt;
    &amp;lt;!-- Define a servlet to respond to /content/* URL's --&amp;gt;
    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;rewriter&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-class&amp;gt;com.metawerx.servlets.URLRewriter&amp;lt;/servlet-class&amp;gt;
    &amp;lt;/servlet&amp;gt;

    &amp;lt;!-- Map some URL's to the rewriter servlet (demonstrates /path/* and specific URL mapping) --&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;!-- For any URL starting with /content/, the rewriter servlet will be called --&amp;gt;
        &amp;lt;servlet-name&amp;gt;rewriter&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/content/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;!-- The rewriter servlet can also be called directly as /admin/RewriterStatistics, to return stats --&amp;gt;
        &amp;lt;servlet-name&amp;gt;rewriter&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/admin/RewriterStatistics&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;

    &amp;lt;!-- PathJSP Servlet, maps /shop/item/* URL's to a JSP file --&amp;gt;
    &amp;lt;!-- Define a JSP file to respond to /shop/item/* URL's --&amp;gt;
    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;pathjsp&amp;lt;/servlet-name&amp;gt;
        &amp;lt;jsp-file&amp;gt;pathfinder.jsp&amp;lt;/jsp-file&amp;gt;
    &amp;lt;/servlet&amp;gt;

    &amp;lt;!-- Map some URL's to the pathjsp servlet (demonstrates /long/path/* URL mapping) --&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;!-- For any URL starting with /shop/item/, the pathjsp servlet will be called --&amp;gt;
        &amp;lt;servlet-name&amp;gt;pathjsp&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/shop/item/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Filters --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Example filter to set character encoding on each request (from Tomcat servlets-examples context) --&amp;gt;
    &amp;lt;filter&amp;gt;
        &amp;lt;filter-name&amp;gt;Set Character Encoding&amp;lt;/filter-name&amp;gt;
        &amp;lt;filter-class&amp;gt;filters.SetCharacterEncodingFilter&amp;lt;/filter-class&amp;gt;
        &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;encoding&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;EUC_JP&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
    &amp;lt;/filter&amp;gt;
    &amp;lt;filter-mapping&amp;gt;
        &amp;lt;filter-name&amp;gt;Set Character Encoding&amp;lt;/filter-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/filter-mapping&amp;gt;

    &amp;lt;!-- Example filter to dump the HTTP request at the top of each page (from Tomcat servlets-examples context) --&amp;gt;
    &amp;lt;filter&amp;gt;
        &amp;lt;filter-name&amp;gt;Request Dumper Filter&amp;lt;/filter-name&amp;gt;
        &amp;lt;filter-class&amp;gt;filters.RequestDumperFilter&amp;lt;/filter-class&amp;gt;
    &amp;lt;/filter&amp;gt;
    &amp;lt;filter-mapping&amp;gt;
        &amp;lt;filter-name&amp;gt;Request Dumper Filter&amp;lt;/filter-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/filter-mapping&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Listeners --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Define example application events listeners --&amp;gt;
    &amp;lt;listener&amp;gt;
        &amp;lt;listener-class&amp;gt;com.metawerx.listener.ContextListener&amp;lt;/listener-class&amp;gt;
    &amp;lt;/listener&amp;gt;
    &amp;lt;listener&amp;gt;
        &amp;lt;listener-class&amp;gt;com.metawerx.listener.SessionListener&amp;lt;/listener-class&amp;gt;
    &amp;lt;/listener&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Security --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Define roles --&amp;gt;
    &amp;lt;security-role&amp;gt;
        &amp;lt;role-name&amp;gt;admin&amp;lt;/role-name&amp;gt;
    &amp;lt;/security-role&amp;gt;
    &amp;lt;security-role&amp;gt;
        &amp;lt;role-name&amp;gt;cms_editors&amp;lt;/role-name&amp;gt;
    &amp;lt;/security-role&amp;gt;

    &amp;lt;!-- Define a constraint to restrict access to /private/* --&amp;gt;
    &amp;lt;security-constraint&amp;gt;

        &amp;lt;display-name&amp;gt;Security constraint for the /private folder&amp;lt;/display-name&amp;gt;

        &amp;lt;web-resource-collection&amp;gt;

            &amp;lt;web-resource-name&amp;gt;Protected Area&amp;lt;/web-resource-name&amp;gt;
            &amp;lt;url-pattern&amp;gt;/private/*&amp;lt;/url-pattern&amp;gt;

            &amp;lt;!-- If you list http methods, only those methods are protected. --&amp;gt;
            &amp;lt;!-- Leave this commented out to protect all access --&amp;gt;
            &amp;lt;!--
            &amp;lt;http-method&amp;gt;DELETE&amp;lt;/http-method&amp;gt;
            &amp;lt;http-method&amp;gt;GET&amp;lt;/http-method&amp;gt;
            &amp;lt;http-method&amp;gt;POST&amp;lt;/http-method&amp;gt;
            &amp;lt;http-method&amp;gt;PUT&amp;lt;/http-method&amp;gt;
            --&amp;gt;

        &amp;lt;/web-resource-collection&amp;gt;

        &amp;lt;auth-constraint&amp;gt;
            &amp;lt;!-- Only only administrator and CMS editors to access this area --&amp;gt;
            &amp;lt;role-name&amp;gt;admin&amp;lt;/role-name&amp;gt;
            &amp;lt;role-name&amp;gt;cms_editors&amp;lt;/role-name&amp;gt;
        &amp;lt;/auth-constraint&amp;gt;

    &amp;lt;/security-constraint&amp;gt;

    &amp;lt;!-- FORM based authentication --&amp;gt;
    &amp;lt;!-- Leave this commented out, we will use BASIC (HTTP) authentication instead --&amp;gt;
    &amp;lt;!--
    &amp;lt;login-config&amp;gt;
            &amp;lt;auth-method&amp;gt;FORM&amp;lt;/auth-method&amp;gt;
            &amp;lt;form-login-config&amp;gt;
                    &amp;lt;form-login-page&amp;gt;/login.jsp&amp;lt;/form-login-page&amp;gt;
                    &amp;lt;form-error-page&amp;gt;/error.jsp&amp;lt;/form-error-page&amp;gt;
            &amp;lt;/form-login-config&amp;gt;
    &amp;lt;/login-config&amp;gt;
    --&amp;gt;
    &amp;lt;!-- This application uses BASIC authentication --&amp;gt;
    &amp;lt;login-config&amp;gt;
        &amp;lt;auth-method&amp;gt;BASIC&amp;lt;/auth-method&amp;gt;
        &amp;lt;realm-name&amp;gt;Editor Login&amp;lt;/realm-name&amp;gt;
    &amp;lt;/login-config&amp;gt;

    &amp;lt;!-- Define a constraint to force SSL on all pages in the application --&amp;gt;
    &amp;lt;security-constraint&amp;gt;

        &amp;lt;web-resource-collection&amp;gt;
            &amp;lt;web-resource-name&amp;gt;Entire Application&amp;lt;/web-resource-name&amp;gt;
            &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
        &amp;lt;/web-resource-collection&amp;gt;

        &amp;lt;user-data-constraint&amp;gt;
            &amp;lt;transport-guarantee&amp;gt;CONFIDENTIAL&amp;lt;/transport-guarantee&amp;gt;
        &amp;lt;/user-data-constraint&amp;gt;

    &amp;lt;/security-constraint&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Error Handler --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Define an error handler for 404 pages --&amp;gt;
    &amp;lt;error-page&amp;gt;
        &amp;lt;error-code&amp;gt;404&amp;lt;/error-code&amp;gt;
        &amp;lt;location&amp;gt;/error404.jsp&amp;lt;/location&amp;gt;
    &amp;lt;/error-page&amp;gt;

    &amp;lt;!-- Define an error handler for java.lang.Throwable --&amp;gt;
    &amp;lt;error-page&amp;gt;
        &amp;lt;exception-type&amp;gt;java.lang.Throwable&amp;lt;/exception-type&amp;gt;
        &amp;lt;location&amp;gt;/errorThrowable.jsp&amp;lt;/location&amp;gt;
    &amp;lt;/error-page&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Extra MIME types --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Set XML mime-mapping so spreadsheets open properly instead of being sent as an octet/stream --&amp;gt;
    &amp;lt;mime-mapping&amp;gt;
        &amp;lt;extension&amp;gt;xls&amp;lt;/extension&amp;gt;
        &amp;lt;mime-type&amp;gt;application/vnd.ms-excel&amp;lt;/mime-type&amp;gt;
    &amp;lt;/mime-mapping&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Locale --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Set Locale Encoding --&amp;gt;
    &amp;lt;locale-encoding-mapping-list&amp;gt;
        &amp;lt;locale-encoding-mapping&amp;gt;
            &amp;lt;locale&amp;gt;ja&amp;lt;/locale&amp;gt;
            &amp;lt;encoding&amp;gt;Shift_JIS&amp;lt;/encoding&amp;gt;
        &amp;lt;/locale-encoding-mapping&amp;gt;
    &amp;lt;/locale-encoding-mapping-list&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- Welcome Files --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;!-- Define, in order of preference, which file to show when no filename is defined in the path --&amp;gt;
    &amp;lt;!-- eg: when user goes to http://yoursite.com/ or http://yoursite.com/somefolder --&amp;gt;
    &amp;lt;!-- Defaults are provided in the server-wide web.xml file, such as index.jsp, index.htm --&amp;gt;
    &amp;lt;!-- Note: using this tag overrides the defaults, so don't forget to add them here --&amp;gt;
    &amp;lt;welcome-file-list&amp;gt;
        &amp;lt;!-- Use index.swf if present, or splash.jsp, otherwise just look for the normal defaults --&amp;gt;
        &amp;lt;welcome-file&amp;gt;index.swf&amp;lt;/welcome-file&amp;gt;
        &amp;lt;welcome-file&amp;gt;splash.jsp&amp;lt;/welcome-file&amp;gt;
        &amp;lt;welcome-file&amp;gt;index.html&amp;lt;/welcome-file&amp;gt;
        &amp;lt;welcome-file&amp;gt;index.htm&amp;lt;/welcome-file&amp;gt;
        &amp;lt;welcome-file&amp;gt;index.jsp&amp;lt;/welcome-file&amp;gt;
    &amp;lt;/welcome-file-list&amp;gt;

    &amp;lt;!-- ========================================================== --&amp;gt;
    &amp;lt;!-- JNDI Environment Variables --&amp;gt;
    &amp;lt;!-- ========================================================== --&amp;gt;

    &amp;lt;env-entry&amp;gt;
        &amp;lt;env-entry-name&amp;gt;webmasterName&amp;lt;/env-entry-name&amp;gt;
        &amp;lt;env-entry-value&amp;gt;Ms. W. Master&amp;lt;/env-entry-value&amp;gt;
        &amp;lt;env-entry-type&amp;gt;java.lang.String&amp;lt;/env-entry-type&amp;gt;
    &amp;lt;/env-entry&amp;gt;
    &amp;lt;env-entry&amp;gt;
        &amp;lt;env-entry-name&amp;gt;cms/defaultUserSettings/recordsPerPage&amp;lt;/env-entry-name&amp;gt;
        &amp;lt;env-entry-value&amp;gt;30&amp;lt;/env-entry-value&amp;gt;
        &amp;lt;env-entry-type&amp;gt;java.lang.Integer&amp;lt;/env-entry-type&amp;gt;
    &amp;lt;/env-entry&amp;gt;

    &amp;lt;!-- ===========Programmer's virtual name for resource=====================--&amp;gt;
    &amp;lt;resource-ref&amp;gt;
        &amp;lt;res-ref-name&amp;gt;jdbc/iass_ds&amp;lt;/res-ref-name&amp;gt;
        &amp;lt;res-type&amp;gt;javax.sql.DataSource&amp;lt;/res-type&amp;gt;
        &amp;lt;res-auth&amp;gt;Container&amp;lt;/res-auth&amp;gt;
        &amp;lt;res-sharing-scope&amp;gt;Shareable&amp;lt;/res-sharing-scope&amp;gt;
    &amp;lt;/resource-ref&amp;gt;

    &amp;lt;resource-env-ref&amp;gt;
        &amp;lt;resource-env-ref-name&amp;gt;jms/StockQueue&amp;lt;/resource-env-ref-name&amp;gt;
        &amp;lt;resource-env-ref-type&amp;gt;javax.jms.Queue&amp;lt;/resource-env-ref-type&amp;gt;
    &amp;lt;/resource-env-ref&amp;gt;

&amp;lt;/web-app&amp;gt;
</code></pre>

<p>some confusing tags: &lt;resource-ref&gt;   &lt;resource-env-ref&gt;</p>

<h3 id="servletcontext-servletconfig">ServletContext, ServletConfig</h3>

<p>Basically, ServletContext defines a set of methods that a servlet uses to communicate with its servlet container.</p>

<p>There is one context per &ldquo;web application&rdquo; per Java Virtual Machine. (A web application&rdquo; is a collection of servlets and content installed under a specific subset of the server&rsquo;s URL namespace such as /catalog and possibly installed via a .war file.)</p>

<p>ServletConfig is used to pass parameters to a servlet during initialization.</p>

<p>its methods include:</p>

<pre><code class="language-java">getServletName();
getServletContext();
getInitParameter(String name);
getInitParameterNames();
</code></pre>

<p>GenericServlet has implemented ServletConfig interface.</p>

<h3 id="thread-safe-consideration">thread safe consideration</h3>

<p><img src="http://yangchao.me/media/servlet-lifecycle.jpg" alt="servlet-lifecycle" /></p>

<p>Generally, a typical servlet lifecyle creates a single instance of a servlet class, but pools multiple threads to handle the service() method.</p>

<p>So the shared resources like instance variables, helpers must be coded in thread-safe manners.</p>

<h3 id="forward-vs-redirect">forward vs. redirect</h3>

<p>RequestDispatcher.forward(&hellip;), Response.sendRedirect(..)</p>

<p><img src="http://yangchao.me/media/forward_redirect.png" alt="forward_redirect" /></p>

<p>As per what is RequestDespatcher include(), now look at the following test:</p>

<pre><code class="language-java">public class DispatcherServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;

	protected void doGet(HttpServletRequest request,
			HttpServletResponse response) throws ServletException, IOException {

		PrintWriter out = response.getWriter();
		out.println(&quot;In dispatcherServlet &amp;lt;BR&amp;gt;&quot;);

		RequestDispatcher rd = request.getRequestDispatcher(&quot;Hello.jsp&quot;);
		rd.include(request, response);
	}

}
</code></pre>

<p>&nbsp;</p>

<pre><code class="language-java">&amp;lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;
    pageEncoding=&quot;ISO-8859-1&quot;%&amp;gt;
&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&amp;gt;
&amp;lt;title&amp;gt;Insert title here&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;

Hello page. 

&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
</code></pre>

<p>Now the output is:</p>

<pre><code class="language-java">In dispatcherServlet
Hello page
</code></pre>

<p>Here we are not hard to know its accurate meaning - including and merging the response content of another servlet, JSP or static resources.</p>

<p><img src="http://yangchao.me/media/RequestDispatcherInclude.jpg" alt="RequestDispatcherInclude" /></p>

<h3 id="jndi-declaration-tags">JNDI declaration tags</h3>

<p>We usually use &lt;resource-ref&gt; for DataSource declaration, but there&rsquo;re also other JNDI object declarations which can be used in servlet application.</p>

<h4 id="lt-env-entry-gt-lt-resource-ref-gt-and-lt-resource-env-ref-gt">&lt;env-entry&gt;, &lt;resource-ref&gt; and &lt;resource-env-ref&gt;</h4>

<div id="post-body-9135694041141534953" class="post-body entry-content">

*   **env-entry** - Environment entry, a single-value parameter that can be used to configure how the application will operate. An example [here](http://www.cs-repository.info/2014/04/bind-and-lookup-wrapper-objects-using.html)
*   **resource-ref** - Resource reference, which is typically to an object factory for resources such as a JDBC DataSource, a JavaMail Session, or custom object factories configured into Tomcat. An example [here](http://www.cs-repository.info/2014/04/using-jndi-lookup-for-datasource-objects.html)
*   **resource-env-ref** - Resource environment reference, a new variation of resource-ref added in Servlet 2.4 that is simpler to configure for resources that do not require authentication information. An example[here ](http://www.cs-repository.info/2014/04/bind-and-lookup-beans-using-resource_1.html)and [here](http://www.cs-repository.info/2014/04/bind-and-lookup-beans-using-resource.html).
</div>

<h4 id="environment-entries">Environment Entries</h4>

<p>For parameter values that may need to change during deployment, it&rsquo;s better to use environment entries instead, as indicated by the <code>&amp;lt;env-entry&amp;gt;</code> tag.</p>

<pre><code class="language-java">&amp;lt;env-entry&amp;gt;
    &amp;lt;description&amp;gt;Send pincode by mail&amp;lt;/description&amp;gt;
    &amp;lt;env-entry-name&amp;gt;mailPincode&amp;lt;/env-entry-name&amp;gt;
    &amp;lt;env-entry-value&amp;gt;false&amp;lt;/env-entry-value&amp;gt;
    &amp;lt;env-entry-type&amp;gt;java.lang.Boolean&amp;lt;/env-entry-type&amp;gt;
&amp;lt;/env-entry&amp;gt;
</code></pre>

<p>This is a good way for environment-specific application variables. The type may be a <code>String</code>, <code>Byte</code>, <code>Short</code>, <code>Integer</code>, <code>Long</code>, <code>Boolean</code>, <code>Double</code>, or <code>Float</code> (all with their full <code>java.lang</code> qualification).</p>

<p>Java code can retrieve the <code>&amp;lt;env-entry&amp;gt;</code> values using JNDI:</p>

<pre><code class="language-java">Context initCtx = new InitialContext( );
Boolean mailPincode = (Boolean) initCtx.lookup(&quot;java:comp/env/mailPincode&quot;);
</code></pre>

<p>Now you could change the variable value in deployment time:</p>

<p><img src="http://yangchao.me/media/env-entry.png" alt="env-entry" /></p>

<h4 id="references-to-external-resource-manager-connection-factories">References to External Resource Manager Connection Factories</h4>

<p>When the environment entry is a resource factory, there&rsquo;s a <code>&amp;lt;resource-ref&amp;gt;</code> tag to use. A factory is an object that creates other objects on demand. A resource factory creates resource objects, such as database connections or message queues.</p>

<pre><code class="language-java">&amp;lt;!-- JDBC DataSources (java:comp/env/jdbc) --&amp;gt;
&amp;lt;resource-ref&amp;gt;
    &amp;lt;description&amp;gt;The default DS&amp;lt;/description&amp;gt;
    &amp;lt;res-ref-name&amp;gt;jdbc/DefaultDS&amp;lt;/res-ref-name&amp;gt;
    &amp;lt;res-type&amp;gt;javax.sql.DataSource&amp;lt;/res-type&amp;gt;
    &amp;lt;res-auth&amp;gt;Container&amp;lt;/res-auth&amp;gt;
&amp;lt;/resource-ref&amp;gt;
&amp;lt;!-- JavaMail Connection Factories (java:comp/env/mail) --&amp;gt;
&amp;lt;resource-ref&amp;gt;
    &amp;lt;description&amp;gt;Default Mail&amp;lt;/description&amp;gt;
    &amp;lt;res-ref-name&amp;gt;mail/DefaultMail&amp;lt;/res-ref-name&amp;gt;
    &amp;lt;res-type&amp;gt;javax.mail.Session&amp;lt;/res-type&amp;gt;
    &amp;lt;res-auth&amp;gt;Container&amp;lt;/res-auth&amp;gt;
&amp;lt;/resource-ref&amp;gt;
&amp;lt;!-- JMS Connection Factories (java:comp/env/jms) --&amp;gt;
&amp;lt;resource-ref&amp;gt;
    &amp;lt;description&amp;gt;Default QueueFactory&amp;lt;/description&amp;gt;
    &amp;lt;res-ref-name&amp;gt;jms/QueueFactory&amp;lt;/res-ref-name&amp;gt;
    &amp;lt;res-type&amp;gt;javax.jms.QueueConnectionFactory&amp;lt;/res-type&amp;gt;
    &amp;lt;res-auth&amp;gt;Container&amp;lt;/res-auth&amp;gt;
&amp;lt;/resource-ref&amp;gt;
</code></pre>

<p>It can have two values: <code>CONTAINER</code> or <code>SERVLET</code>. If <code>CONTAINER</code> is specified, the servlet container (the J2EE server) handles authentication before binding the factory to JNDI, using credentials provided by the deployer. If <code>SERVLET</code> is specified, the servlet must handle authentication duties programmatically.</p>

<p>It&rsquo;s recommended but not required to place the resource factories under a subcontext that describes the resource type:</p>

<ul>
<li><code>jdbc/</code> for a JDBC <code>javax.sql.DataSource</code> factory</li>
<li><code>jms/</code> for a JMS <code>javax.jms.QueueConnectionFactory</code> or <code>javax.jms.TopicConnectionFactory</code></li>
<li><code>mail/</code> for a JavaMail <code>javax.mail.Session</code> factory</li>
<li><code>url/</code> for a <code>java.net.URL</code> factory</li>
</ul>

<h4 id="references-to-administered-objects">References to Administered Objects</h4>

<pre><code class="language-java">&amp;lt;resource-env-ref&amp;gt;
    &amp;lt;description&amp;gt;This is a reference to a JMS queue&amp;lt;/description&amp;gt;
    &amp;lt;resource-env-ref-name&amp;gt;jms/myqueue&amp;lt;/resource-env-ref-name&amp;gt;
    &amp;lt;resource-env-ref-type&amp;gt;javax.jms.Queue&amp;lt;/resource-env-ref-type&amp;gt;
&amp;lt;/resource-env-ref&amp;gt;
</code></pre>

<h4 id="references-to-ejb-components">References to EJB Components</h4>

<pre><code class="language-java">&amp;lt;ejb-ref&amp;gt;
  &amp;lt;description&amp;gt;Cruise ship cabin&amp;lt;/description&amp;gt;
  &amp;lt;ejb-ref-name&amp;gt;ejb/CabinHome&amp;lt;/ejb-ref-name&amp;gt;
  &amp;lt;ejb-ref-type&amp;gt;Entity&amp;lt;/ejb-ref-type&amp;gt;
  &amp;lt;home&amp;gt;com.titan.cabin.CabinHome&amp;lt;/home&amp;gt;
  &amp;lt;remote&amp;gt;com.titan.cabin.Cabin&amp;lt;/remote&amp;gt;
&amp;lt;/ejb-ref&amp;gt;
</code></pre>

<p>&nbsp;</p>

    </div>
    <footer class="post-footer">
     

     <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="http://yangchao.me/post/gof-creational-patterns-singleton-factory-factory-method-abstract-factory/" rel="next" title="GoF Creational Patterns: Singleton, Factory, Factory Method, Abstract Factory">
        <i class="fa fa-chevron-left"></i> GoF Creational Patterns: Singleton, Factory, Factory Method, Abstract Factory
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="http://yangchao.me/post/a-glimpse-of-jms/" rel="prev" title="A glimpse of JMS">
        A glimpse of JMS <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
     
     
     




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

  <ul class="sidebar-nav motion-element">
    <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
      Table of Content
    </li>
    <li class="sidebar-nav-overview" data-target="site-overview">
      Site Information
    </li>
  </ul>

    <section class="site-overview sidebar-panel ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="http://yangchao.me/img/author.jpg"
        alt="Chao" />
    <p class="site-author-name" itemprop="name">Chao</p>
    <p class="site-description motion-element" itemprop="description"> 
        Programmer &amp; Life explorer</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="http://yangchao.me/post/">
        <span class="site-state-item-count">135</span>
        <span class="site-state-item-name">Blogs</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="http://yangchao.me/categories/">       
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">Categories</span>
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="http://yangchao.me/tags/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">Tags</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://github.com/richdyang" target="_blank" title="GitHub">
            <i class="fa fa-fw fa-github"></i>
            GitHub
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://linkedin.com/in/richdyang" target="_blank" title="Linkedin">
            <i class="fa fa-fw fa-linkedin"></i>
            Linkedin
        </a>
        </span>
    
</div>

      
      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=5b4f2ucxar6&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
    <div class="post-toc">
        <div class="post-toc-content"><nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#deployment-descriptor-web-xml">Deployment Descriptor: web.xml</a></li>
<li><a href="#servletcontext-servletconfig">ServletContext, ServletConfig</a></li>
<li><a href="#thread-safe-consideration">thread safe consideration</a></li>
<li><a href="#forward-vs-redirect">forward vs. redirect</a></li>
<li><a href="#jndi-declaration-tags">JNDI declaration tags</a>
<ul>
<li><a href="#lt-env-entry-gt-lt-resource-ref-gt-and-lt-resource-env-ref-gt">&lt;env-entry&gt;, &lt;resource-ref&gt; and &lt;resource-env-ref&gt;</a></li>
<li><a href="#environment-entries">Environment Entries</a></li>
<li><a href="#references-to-external-resource-manager-connection-factories">References to External Resource Manager Connection Factories</a></li>
<li><a href="#references-to-administered-objects">References to Administered Objects</a></li>
<li><a href="#references-to-ejb-components">References to EJB Components</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav></div>
    </div>
</section>

  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
   - 2017</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">Chao Yang</span>
</div>
<div class="powered-by">
  Powered by - <a class="theme-link" href="http://gohugo.io" target="_blank" title="hugo" >Hugo</a>
</div>
<div class="theme-info">
  Theme by - <a class="theme-link" href="https://github.com/xtfly/hugo-theme-next" target="_blank"> NexT
  </a>
</div>


      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  <script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?0b07433b4ab8d587dae7d34e71973839";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
<script type="text/javascript" src="http://tajs.qq.com/stats?sId=58416275" charset="UTF-8"></script> 
<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="http://yangchao.me/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="http://yangchao.me/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="http://yangchao.me/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="http://yangchao.me/js/utils.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/motion.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/affix.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/schemes/pisces.js"></script>

<script type="text/javascript" src="http://yangchao.me/js/scrollspy.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/post-details.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/toc.js"></script>

<script type="text/javascript" src="http://yangchao.me/js/bootstrap.js"></script>

</body>
</html>