<!DOCTYPE HTML>
<html lang="en-us">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title> - Chao Yang</title>
    <meta name="keywords" content="Java, Programming, Android, JavaScript, Angular, Kotlin, Swift, iOS, Machine Learning, Big Data">
    
    <meta property="og:title" content="">
    <meta property="og:site_name" content="Chao Yang">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content=" - Chao Yang" />
    <meta name="description" content="A Developer in New Zealand"> 
    
    <link rel="shortcut icon" href="http://yangchao.me/img/favicon.ico" />
    <link rel="apple-touch-icon" href="http://yangchao.me/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="http://yangchao.me/img/apple-touch-icon.png" />
    <link href="http://yangchao.me/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="http://yangchao.me/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="http://yangchao.me/css/main.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/kotlin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/typescript.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="http://yangchao.me/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Chao Yang</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Nothing seek, nothing find</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="http://yangchao.me/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/books" rel="section">
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />Minibooks
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://github.com/richdyang" rel="section">
              <i class="menu-item-icon fa fa-fw fa-code"></i> <br />Projects
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/resume/cv.pdf" rel="section">
              <i class="menu-item-icon fa fa-fw fa-linkedin"></i> <br />Résumé
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archive
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://yangchao.me/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About
          </a>
        </li>
      
    </ul>
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="http://yangchao.me/book/a-close-look-at-java/collections/hashmap/" itemprop="url">
        
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">Published at:</span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="0001-01-01">
    0001-01-01
</time>
</span> 
      
       <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-eye"></i>
</span>
<span class="post-meta-item-text">Reading:</span>
<span class="leancloud-visitors-count">1638 words ~8min</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    

<h1 id="inner-structure">inner structure</h1>

<p><img src="http://yangchao.me/assets/hashmap.png" alt="" /></p>

<p>The major structure of HashMap is a table which is an array of Node. Every node can be linked to other nodes with the same index but different key. HashMap names the bucket a <code>Bin</code>: plain bin, tree bin.</p>

<p>When the linked list for the bin is too long (more than 8 nodes), its need to be treeified.</p>

<h1 id="capacity-and-size">capacity and size</h1>

<p>In HashMap, <code>capacity</code> refers the length of the underlying table and <code>size</code> refers to the actual number of nodes (NOT the number of bins).</p>

<h1 id="hashcode-hash-index">hashCode, hash, index</h1>

<p><img src="http://yangchao.me/assets/hashcode.png" alt="" /></p>

<p>From hashCode of the key to compute hash:</p>

<pre><code class="language-java">    static final int hash(Object key) {
        int h;
        return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);
    }
</code></pre>

<p>From hash to table index: <code>(n-1) &amp; hash</code>. Since HashMap always extends to 2-power capacity, so the index is actually masked as low bits.</p>

<p><img src="https://cloud.githubusercontent.com/assets/1736354/6957712/293b52fc-d932-11e4-854d-cb47be67949a.png" alt="" /></p>

<p><img src="http://yangchao.me/assets/hashtable.png" width="300" /></p>

<h1 id="collide-linked-list-vs-red-black-tree">collide: linked list vs. red-black tree</h1>

<p>There are two kinds of Node (<code>Node</code> is the subclass of <code>Entry</code>). One is for linked list, another is for red-black tree.</p>

<pre><code class="language-java">final Node&lt;K,V&gt; getNode(int hash, Object key) {
        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;
        if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;
            (first = tab[(n - 1) &amp; hash]) != null) {
            if (first.hash == hash &amp;&amp; // always check first node
                ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))
                return first;
            if ((e = first.next) != null) {
                if (first instanceof TreeNode)
                    return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);
                do {
                    if (e.hash == hash &amp;&amp;
                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))
                        return e;
                } while ((e = e.next) != null);
            }
        }
        return null;
    }
</code></pre>

<ul>
<li>get the first node with the computed hash, compare its key and check if it is the expected node</li>
<li>if the first node has a next node

<ul>
<li>if tree node, search the node from the tree</li>
<li>if linked list, iterate and find the node</li>
</ul></li>
</ul>

<pre><code class="language-java">final V putVal(int hash, K key, V value, boolean onlyIfAbsent,
                   boolean evict) {
        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;
        if ((tab = table) == null || (n = tab.length) == 0)
            n = (tab = resize()).length;
        if ((p = tab[i = (n - 1) &amp; hash]) == null)
            tab[i] = newNode(hash, key, value, null);
        else {
            Node&lt;K,V&gt; e; K k;
            if (p.hash == hash &amp;&amp;
                ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))
                e = p;
            else if (p instanceof TreeNode)
                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);
            else {
                for (int binCount = 0; ; ++binCount) {
                    if ((e = p.next) == null) {
                        p.next = newNode(hash, key, value, null);
                        if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st
                            treeifyBin(tab, hash);
                        break;
                    }
                    if (e.hash == hash &amp;&amp;
                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))
                        break;
                    p = e;
                }
            }
            if (e != null) { // existing mapping for key
                V oldValue = e.value;
                if (!onlyIfAbsent || oldValue == null)
                    e.value = value;
                afterNodeAccess(e);
                return oldValue;
            }
        }
        ++modCount;
        if (++size &gt; threshold)
            resize();
        afterNodeInsertion(evict);
        return null;
    }
</code></pre>

<ul>
<li>resize if table is empty</li>
<li>if the node in the index of table doesn&rsquo;t exist, create a new node.</li>
<li>if the first node matches, got it. otherwise, we need find in its linked list or tree.

<ul>
<li>if tree, search the tree and insert it</li>
<li>if linked list, search the tree and append it</li>
</ul></li>
<li>in the above search/match, if existing, replace old value</li>
</ul>

<h1 id="resize">resize</h1>

<p>The capacity of the table is controlled by <code>loadFactor</code>.
- <code>threshold = capacity * loadFactor</code></p>

<p>Once the size reaches the <code>threshold</code>, a resizing is needed.</p>

<p>Since HashMap has 2-power capacity, whenever it resizes, its capacity will double.</p>

<p>For instance, when initial capacity is 16, now it will resize to 32. That means for each bin, the new index of nodes bits will add an extra high bit. Some nodes keep the previous index, but others need to move to a new index.</p>

<p><img src="https://cloud.githubusercontent.com/assets/1736354/6958256/ceb6e6ac-d93b-11e4-98e7-c5a5a07da8c4.png" alt="" /></p>

<p>You can notice, the hash is not changed, but the index may change due to the mask.</p>

<p>So when the extra high bit is 1, the node need to move the new index. <code>new index = old index + old capacity</code></p>

<p><img src="https://cloud.githubusercontent.com/assets/1736354/6958301/519be432-d93c-11e4-85bb-dff0a03af9d3.png" alt="" /></p>

<p>The following is the transition flow:
<img src="https://cloud.githubusercontent.com/assets/1736354/6958677/d7acbad8-d941-11e4-9493-2c5e69d084c0.png" alt="" /></p>

<h2 id="treeify">treeify</h2>

<p>When the linked list length reaches <code>TREEIFY_THRESHOLD</code>, treeify is needed. Here <code>TREEIFY_THRESHOLD</code> is 8.
However, it also check the <code>MIN_TREEIFY_CAPACITY</code> (64), if the table is too small, resize rather than treeify.</p>

<p>Since HashMap uses Red-Black tree when treeifying, I plan to turn back here after I explore <code>TreeMap</code>.</p>

<h1 id="implementation1-plain-linked-list">Implementation1: plain linked list</h1>

<pre><code class="language-java">package me.yangchao;

import java.util.Arrays;
import java.util.Collection;
import java.util.Map;
import java.util.Set;
import java.util.function.BiConsumer;
import java.util.function.BiFunction;
import java.util.function.Function;

public class HashMap&lt;K,V&gt; implements Map&lt;K,V&gt; {

    private static class Node&lt;K,V&gt; implements Entry&lt;K,V&gt; {

        private int hash;
        private K key;
        private V value;
        private Node&lt;K,V&gt; next;

        public Node(int hash, K key, V value) {
            this.hash = hash;
            this.key = key;
            this.value = value;
        }

        @Override
        public K getKey() {
            return key;
        }

        @Override
        public V getValue() {
            return value;
        }

        @Override
        public V setValue(V value) {
            this.value = value;
            return this.value;
        }
    }

    private final static int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;
    private final static float DEFAULT_LOAD_FACTOR = .75f;
    private static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;

    private Node&lt;K,V&gt;[] table;
    private int size;

    private final float loadFactor;
    private int capacity;

    private int threshold() {
        return (int)(loadFactor * capacity);
    }

    public HashMap(int initialCapacity, float loadFactor) {
        if(initialCapacity &lt; 0) throw new IllegalArgumentException(&quot;Initial capacity cannot be negative&quot;);
        if(initialCapacity &gt; MAXIMUM_CAPACITY) initialCapacity = MAXIMUM_CAPACITY;
        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor)) throw new IllegalArgumentException(&quot;Illegal load factor: &quot; +loadFactor);
        this.loadFactor = loadFactor;
        this.capacity = power2(initialCapacity);
    }

    public HashMap(int initialCapacity) {
        this(initialCapacity, DEFAULT_LOAD_FACTOR);
    }

    public HashMap() {
        this.loadFactor = DEFAULT_LOAD_FACTOR;
    }

    private int power2(int i) {
        int r;
        r =  ((r = Integer.highestOneBit(i)) == i) ? r : r &lt;&lt; 1;
        return Math.max(r, DEFAULT_INITIAL_CAPACITY);
    }

    private int hash(Object key) {
        int h;
        return (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);
    }

    private Node&lt;K,V&gt; getBin(Object key) {
        int n = table.length;
        int hash = hash(key);
        int index = (n-1) &amp; hash;
        return table[index];
    }

    private Node&lt;K,V&gt; getNode(Object key) {
        int n = table.length;
        int hash = hash(key);
        int index = (n-1) &amp; hash;
        Node&lt;K,V&gt; head = table[index];

        if(head != null) {
            Node&lt;K,V&gt; current = head;
            while (current != null) {
                if(current.hash == hash &amp;&amp; current.key.equals(key)) {//found
                    return current;
                }
                current = current.next;
            }
        }

        return null;
    }

    @Override
    public V get(Object key) {
        Node&lt;K,V&gt; node;
        return ((node = getNode(key)) == null) ? null : node.value;
    }

    @Override
    public V put(K key, V value) {
        if(isEmpty()) {
            resize();
        }
        int n = table.length;
        int hash = hash(key);
        int index = (n-1) &amp; hash;
        Node&lt;K,V&gt; head = table[index];
        Node&lt;K,V&gt; node = null;
        if(head == null) {
            node = new Node&lt;&gt;(hash, key, value);
            table[index] = node;
        } else {
            Node&lt;K,V&gt; current = head;
            Node&lt;K,V&gt; tail = head;
            while (current != null) {
                if(current.hash == hash &amp;&amp; current.key.equals(key)) {//found
                    current.value = value;
                    node = current;
                    break;
                }
                tail = current; // get the tail
                current = current.next;
            }
            if(node == null) {
                node = new Node&lt;&gt;(hash, key, value);
                tail.next = node;
            }
        }
        if(++size &gt; threshold()) resize();
        return node.value;
    }

    private void resize() {
        if(isEmpty()) {
            capacity = DEFAULT_INITIAL_CAPACITY;
            table = new Node[capacity];
            return;
        }

        System.out.printf(&quot;resize when: capacity %d, size: %d, threshold: %d %n&quot;, capacity, size, threshold());
        // resizing
        int newCapacity = capacity &lt;&lt; 1;
        Node&lt;K,V&gt;[] newTable = new Node[newCapacity];
        for(int index = 0; index &lt; table.length; ++index) {
            Node&lt;K,V&gt; head = table[index];
            if(head == null) continue;

            Node&lt;K,V&gt; loHead = null, loTail = null;
            Node&lt;K,V&gt; hiHead = null, hiTail = null;

            Node&lt;K,V&gt; current = head;
            while (current != null) { // split the bin into 2 bins
                int newIndex = current.hash &amp; (newCapacity-1);
                if(newIndex == index) { // low
                    if(loHead == null) {
                        loHead = current;
                    } else {
                        loTail.next = current;
                    }
                    loTail = current;
                } else { // hi
                    if(hiHead == null) {
                        hiHead = current;
                    } else {
                        hiTail.next = current;
                    }
                    hiTail = current;
                }

                current = current.next;
            }

            if(loTail != null) loTail.next = null;
            if(hiTail != null) hiTail.next = null;

            newTable[index] = loHead;
            newTable[index+capacity] = hiHead;
        }

        this.capacity = newCapacity;
        this.table = newTable;
    }

    @Override
    public void clear() {
        Arrays.fill(table, null);
    }

    ////////////////////////// UNIMPLEMENTED METHODS ////////////////////////////

    @Override
    public V remove(Object key) {
        return null;
    }

    @Override
    public boolean remove(Object key, Object value) {
        return false;
    }

    @Override
    public boolean replace(K key, V oldValue, V newValue) {
        return false;
    }

    @Override
    public V replace(K key, V value) {
        return null;
    }

    @Override
    public int size() {
        return size;
    }

    private int capacity() {
        return table != null ? table.length : 0;
    }

    @Override
    public boolean isEmpty() {
        return  table == null || table.length == 0;
    }

    @Override
    public boolean containsValue(Object value) {
        return false;
    }

    @Override
    public boolean containsKey(Object key) {
        return false;
    }

    @Override
    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {

    }

    @Override
    public Set&lt;K&gt; keySet() {
        return null;
    }

    @Override
    public Collection&lt;V&gt; values() {
        return null;
    }

    @Override
    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {
        return null;
    }

    @Override
    public V getOrDefault(Object key, V defaultValue) {
        return null;
    }

    @Override
    public void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {

    }

    @Override
    public void replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt; function) {

    }

    @Override
    public V putIfAbsent(K key, V value) {
        return null;
    }

    @Override
    public V computeIfAbsent(K key, Function&lt;? super K, ? extends V&gt; mappingFunction) {
        return null;
    }

    @Override
    public V computeIfPresent(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {
        return null;
    }

    @Override
    public V compute(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {
        return null;
    }

    @Override
    public V merge(K key, V value, BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction) {
        return null;
    }

}
</code></pre>

<p>Reference: <a href="https://tinyurl.com/l4c8ekg">inside hash map</a></p>

    </div>
    <footer class="post-footer">
     

     <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="http://yangchao.me/book/a-close-look-at-java/collections/priorityqueue/" rel="next" title="">
        <i class="fa fa-chevron-left"></i> 
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="http://yangchao.me/book/a-close-look-at-java/collections/arraylist/" rel="prev" title="">
         <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
     
     
     




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

    <section class="site-overview sidebar-panel  sidebar-panel-active ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="http://yangchao.me/img/author.jpg"
        alt="Chao" />
    <p class="site-author-name" itemprop="name">Chao</p>
    <p class="site-description motion-element" itemprop="description"> 
        Programmer &amp; Life explorer</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="http://yangchao.me/post/">
        <span class="site-state-item-count">136</span>
        <span class="site-state-item-name">Blogs</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="http://yangchao.me/categories/">       
        <span class="site-state-item-count">48</span>
        <span class="site-state-item-name">Categories</span>
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="http://yangchao.me/tags/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">Tags</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://github.com/richdyang" target="_blank" title="GitHub">
            <i class="fa fa-fw fa-github"></i>
            GitHub
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://linkedin.com/in/richdyang" target="_blank" title="Linkedin">
            <i class="fa fa-fw fa-linkedin"></i>
            Linkedin
        </a>
        </span>
    
</div>

      
      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=5b4f2ucxar6&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
   - 2018</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">Chao Yang</span>
</div>
<div class="powered-by">
  Powered by - <a class="theme-link" href="http://gohugo.io" target="_blank" title="hugo" >Hugo</a>
</div>
<div class="theme-info">
  Theme by - <a class="theme-link" href="https://github.com/xtfly/hugo-theme-next" target="_blank"> NexT
  </a>
</div>


      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  <script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?0b07433b4ab8d587dae7d34e71973839";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
<script type="text/javascript" src="http://tajs.qq.com/stats?sId=58416275" charset="UTF-8"></script> 
<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="http://yangchao.me/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="http://yangchao.me/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="http://yangchao.me/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="http://yangchao.me/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="http://yangchao.me/js/utils.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/motion.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/affix.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/schemes/pisces.js"></script>

<script type="text/javascript" src="http://yangchao.me/js/scrollspy.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/post-details.js"></script>
<script type="text/javascript" src="http://yangchao.me/js/toc.js"></script>

<script type="text/javascript" src="http://yangchao.me/js/bootstrap.js"></script>

</body>
</html>